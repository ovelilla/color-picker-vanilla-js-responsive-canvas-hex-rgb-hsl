(()=>{"use strict";class t{constructor(){if(this.constructor===t)throw new TypeError("Abstract class 'Form' cannot be instantiated directly.");window.addEventListener("load",this.handleLoad.bind(this))}get(){return this.field}createField(){const t=document.createElement("div");return t.classList.add("mio-field"),""!==this.input.value&&t.classList.add("active"),this.error&&t.classList.add("error"),t}createWrapper(){const t=document.createElement("div");return t.classList.add("mio-wrapper"),t}createLabel(){const t=document.createElement("label");return t.classList.add("mio-label"),t.textContent=this.label.text,t.htmlFor=this.label.for,t}createAdornment(t,e){return this.adornmentEl=document.createElement("div"),this.adornmentEl.classList.add("mio-adornment"),this.adornmentEl.classList.add(e),this.adornmentEl.appendChild(t),this.field.classList.add(`${e}-adornment`),this.adornmentEl}createMessage(){if(this.message)return this.messageEl=document.createElement("div"),this.messageEl.classList.add("mio-message"),this.error&&this.messageEl.classList.add("mio-error"),this.messageEl.textContent=this.message,this.messageEl}removeMessage(){this.messageEl&&(this.messageEl.remove(),this.error&&(this.field.classList.remove("error"),this.messageEl.classList.remove("mio-error")))}setValue(t){this.input.value=t,this.field.classList.add("active"),this.removeMessage()}handleLoad(){this.field.querySelector("input:-webkit-autofill")&&this.field.classList.add("active")}handleBlur(){this.input.value||this.field.classList.remove("active"),this.field.classList.remove("focus"),this.onBlur&&this.onBlur(this.input.value)}handleFocus(){this.field.classList.add("active"),this.field.classList.add("focus")}handleInput(){this.manualErrorHandling||(console.log("handleInput"),this.removeMessage()),this.onInput&&this.onInput(this.input.value)}showError(t){this.error=!0,this.message=t,this.field.classList.add("error"),this.field.appendChild(this.createMessage())}removeError(){this.error=!1,this.message=null,this.field.classList.remove("error"),this.removeMessage()}showAdornment(t){this.adornment=t,this.wrapper.appendChild(this.createAdornment())}removeAdornment(){this.adornmentEl&&(this.adornment=null,this.adornmentEl.remove())}focus(){this.input.focus()}blur(){this.input.blur()}clear(){this.input.value="",this.field.classList.remove("active"),this.removeError()}}const e=t,s=class{constructor(t){Object.assign(this,t),this.init()}init(){this.iconButton=this.create()}get(){return this.iconButton}create(){const t=document.createElement("button");switch(t.type=this.type??"button",t.ariaLabel=this.ariaLabel??"",t.classList.add("mio-icon-btn"),this.buttonSize){case"small":t.classList.add("btn-size-small");break;case"medium":t.classList.add("btn-size-medium");break;case"large":t.classList.add("btn-size-large");break;case"xl":t.classList.add("btn-size-xl");break;default:t.classList.add("btn-medium-small")}switch(this.svgSize){case"xs":t.classList.add("svg-size-xs");break;case"small":t.classList.add("svg-size-small");break;case"medium":default:t.classList.add("svg-size-medium");break;case"large":t.classList.add("svg-size-large");break;case"xl":t.classList.add("svg-size-xl")}return t.addEventListener("click",(t=>{t.stopPropagation(),this.onClick()})),t.appendChild(this.icon),t}},i=(()=>{const t=[{name:"pencilSquare",paths:[{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"},{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}]},{name:"search",paths:[{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}]},{name:"trash",paths:[{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"},{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}]},{name:"chevronRight",paths:[{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}]},{name:"chevronDown",paths:[{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}]},{name:"chevronLeft",paths:[{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"}]},{name:"chevronDoubleRight",paths:[{fillRule:"evenodd",d:"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"},{fillRule:"evenodd",d:"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"}]},{name:"chevronDoubleLeft",paths:[{fillRule:"evenodd",d:"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},{fillRule:"evenodd",d:"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}]},{name:"caretUpFill",paths:[{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"}]},{name:"caretDownFill",paths:[{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"}]},{name:"xLg",paths:[{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}]},{name:"arrowRight",paths:[{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"}]},{name:"arrowUpShort",paths:[{fillRule:"evenodd",d:"M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"}]},{name:"threeDots",paths:[{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}]},{name:"threeDotsVertical",paths:[{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}]},{name:"filePDF",paths:[{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"},{d:"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"}]},{name:"fileText",paths:[{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"},{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"}]},{name:"eraserFill",paths:[{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}]},{name:"arrowsFullscreen",paths:[{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"}]},{name:"fileCheck",paths:[{d:"M10.854 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 8.793l2.646-2.647a.5.5 0 0 1 .708 0z"},{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"}]},{name:"filePlus",paths:[{d:"M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5V6z"},{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"}]},{name:"envelope",paths:[{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"}]},{name:"clipboard2Pulse",paths:[{d:"M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z"},{d:"M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z"},{d:"M9.979 5.356a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.926-.08L4.69 10H4.5a.5.5 0 0 0 0 1H5a.5.5 0 0 0 .447-.276l.936-1.873 1.138 3.793a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h.5a.5.5 0 0 0 0-1h-.128L9.979 5.356Z"}]},{name:"plus",paths:[{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}]},{name:"dash",paths:[{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"}]},{name:"files",width:"448",height:"512",paths:[{d:"M438.6 102.6l-93.08-93.26C339.6 3.371 331.5 0 322.1 0H192.5C157.2 0 128.6 28.65 128.6 64v288c0 35.35 28.6 64 63.88 64h191.6C419.3 416 448 387.3 448 352V125.3C448 116.8 444.6 108.6 438.6 102.6zM336.2 22.62L425.4 112h-81.22c-4.398 0-7.985-3.594-7.985-8V22.62zM432 352c0 26.47-21.49 48-47.91 48H192.5c-26.42 0-47.91-21.53-47.91-48V64c0-26.47 21.49-48 47.91-48h127.8v88c0 13.22 10.76 24 23.95 24h87.83V352zM310.8 448c-3.944 0-7.279 2.898-7.837 6.805C299.6 478.1 279.6 496 255.5 496H63.88c-26.46 0-47.91-21.49-47.91-48V160c0-26.51 21.45-48 47.91-48h23.95c4.412 0 7.985-3.582 7.985-8S92.25 96 87.83 96H63.88C28.6 96 0 124.7 0 160v288c0 35.34 28.69 64 63.97 64h191.5c32.2 0 58.83-23.87 63.24-54.91C319.4 452.3 315.6 448 310.8 448z"}]},{name:"eyeFill",width:"24",height:"24",paths:[{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}]},{name:"eyeSlashFill",width:"24",height:"24",paths:[{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}]},{name:"square",width:"24",height:"24",paths:[{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}]},{name:"checkSquareFill",width:"24",height:"24",paths:[{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}]},{name:"check2Circle",paths:[{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"},{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"}]},{name:"exclamationCircle",paths:[{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"}]},{name:"xCircle",paths:[{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}]},{name:"x",paths:[{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}]},{name:"checkCircle",paths:[{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"}]},{name:"checkLg",paths:[{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},{d:"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"}]},{name:"check",paths:[{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}]},{name:"basket",paths:[{d:"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9H2zM1 7v1h14V7H1zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z"}]},{name:"truck",paths:[{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"}]},{name:"cloudUpload",paths:[{fillRule:"evenodd",d:"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"},{fillRule:"evenodd",d:"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"}]},{name:"creditCard",paths:[{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1H2zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7z"},{d:"M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-1z"}]},{name:"cartCircleCheck",width:"640",height:"512",paths:[{d:"M64 0C67.64 0 70.82 2.458 71.74 5.98L78.53 32H541.8C562.1 32 578.3 52.25 572.6 72.66L537.6 196.9C532.4 195.7 527.2 194.7 521.8 193.9L557.2 68.33C560 58.13 552.4 48 541.8 48H82.7L141.1 272H348.5C345.1 277.2 342 282.5 339.2 288H145.3L166.2 368H319.1C319.1 373.4 320.2 378.7 320.7 384H159.1C156.4 384 153.2 381.5 152.3 378L57.82 16H8C3.582 16 0 12.42 0 8C0 3.582 3.582 .0003 8 .0003L64 0zM128 464C128 437.5 149.5 416 176 416C202.5 416 224 437.5 224 464C224 490.5 202.5 512 176 512C149.5 512 128 490.5 128 464zM176 496C193.7 496 208 481.7 208 464C208 446.3 193.7 432 176 432C158.3 432 144 446.3 144 464C144 481.7 158.3 496 176 496zM565.7 322.3C568.8 325.5 568.8 330.5 565.7 333.7L485.7 413.7C482.5 416.8 477.5 416.8 474.3 413.7L426.3 365.7C423.2 362.5 423.2 357.5 426.3 354.3C429.5 351.2 434.5 351.2 437.7 354.3L480 396.7L554.3 322.3C557.5 319.2 562.5 319.2 565.7 322.3H565.7zM352 368C352 288.5 416.5 224 496 224C575.5 224 640 288.5 640 368C640 447.5 575.5 512 496 512C416.5 512 352 447.5 352 368zM496 496C566.7 496 624 438.7 624 368C624 297.3 566.7 240 496 240C425.3 240 368 297.3 368 368C368 438.7 425.3 496 496 496z"}]},{name:"bagShopping",width:"640",height:"512",paths:[{d:"M128 128V96C128 42.98 170.1 0 224 0C277 0 320 42.98 320 96V128H400C426.5 128 448 149.5 448 176V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V176C0 149.5 21.49 128 48 128H128zM144 128H304V96C304 51.82 268.2 16 224 16C179.8 16 144 51.82 144 96V128zM48 144C30.33 144 16 158.3 16 176V416C16 460.2 51.82 496 96 496H352C396.2 496 432 460.2 432 416V176C432 158.3 417.7 144 400 144H320V232C320 236.4 316.4 240 312 240C307.6 240 304 236.4 304 232V144H144V232C144 236.4 140.4 240 136 240C131.6 240 128 236.4 128 232V144H48z"}]},{name:"plus",paths:[{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}]},{name:"plusLg",paths:[{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}]},{name:"download",paths:[{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"}]},{name:"palette",paths:[{d:"M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"},{d:"M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8zm-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7z"}]}];return{get:e=>{const s=t.find((t=>t.name===e));return s?(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("width",`${t.width||16}`),e.setAttribute("height",`${t.height||16}`),e.setAttribute("fill","currentColor"),e.setAttribute("viewBox",`0 0 ${t.width||16} ${t.height||16}`),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.paths.forEach((t=>{const s=document.createElementNS("http://www.w3.org/2000/svg","path");t.fillRule&&s.setAttribute("fill-rule",t.fillRule),s.setAttribute("d",t.d),e.appendChild(s)})),e})(s):null}}})(),a=(()=>{const t=t=>(4===t.length&&(t=t.replace(/([0-9A-F])/gi,"$1$1")),{r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)}),e=t=>{const e=parseInt(t.substring(7,9),16)/255;return Math.round(100*e)/100},s=(e,s)=>{const i=t(e),a=l(i);return{h:a.h,s:a.s,l:a.l,a:s}},i=t=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t),a=t=>/^#([A-Fa-f0-9]{8})$/.test(t),h=t=>Math.round(2.55*t),n=t=>{let e=t.r.toString(16),s=t.g.toString(16),i=t.b.toString(16);return e=1===e.length?"0"+e:e,s=1===s.length?"0"+s:s,i=1===i.length?"0"+i:i,`#${e}${s}${i}`.toUpperCase()},l=t=>{const e=t.r/255,s=t.g/255,i=t.b/255,a=Math.max(e,s,i),h=a-Math.min(e,s,i),n=h?a===e?(s-i)/h:a===s?2+(i-e)/h:4+(e-s)/h:0;return{h:Math.round(60*n<0?60*n+360:60*n),s:Math.round(100*(h?a<=.5?h/(2*a-h):h/(2-(2*a-h)):0)),l:Math.round(100*(2*a-h)/2)}},o=t=>{const e=r(t);return n(e)},r=t=>({r:t.r,g:t.g,b:t.b}),d=t=>{const e=r(t),s=l(e);return{h:s.h,s:s.s,l:s.l,a:t.a}},c=t=>{const e=t.h,s=t.s/100,i=t.l/100;let a=s*Math.min(i,1-i),h=(t,s=(t+e/30)%12)=>i-a*Math.max(Math.min(s-3,9-s,1),-1);return{r:Math.round(255*h(0)),g:Math.round(255*h(8)),b:Math.round(255*h(4))}},u=t=>{const e=t.h/60,s=t.s/100,i=t.l/100,a=(1-Math.abs(2*i-1))*s,h=a*(1-Math.abs(e%2-1)),n=i-a/2;let l=0,o=0,r=0;return e>=0&&e<1?(l=a,o=h,r=0):e>=1&&e<2?(l=h,o=a,r=0):e>=2&&e<3?(l=0,o=a,r=h):e>=3&&e<4?(l=0,o=h,r=a):e>=4&&e<5?(l=h,o=0,r=a):e>=5&&e<6&&(l=a,o=0,r=h),{r:Math.round(255*(l+n)),g:Math.round(255*(o+n)),b:Math.round(255*(r+n))}},p=(t,e)=>{const s=u(t);return{r:s.r,g:s.g,b:s.b,a:e}},v=t=>{const e=m(t);return n(e)},m=t=>{const e=g(t);return c(e)},g=t=>({h:t.h,s:t.s,l:t.l});return{getHslaFromString:t=>t.startsWith("#")?(t=>{if(!i(t)&&!a(t))return s("#000000",1);const h=7===t.length?t:t.slice(0,7),n=7===t.length?1:e(t);return s(h,n)})(t):t.toLowerCase().startsWith("rgb")?(t=>{const e=t.match(/-?\d*\.?\d+%?/g),s={r:parseInt(e[0].includes("%")?h(e[0].replace("%","")):e[0]),g:parseInt(e[1].includes("%")?h(e[1].replace("%","")):e[1]),b:parseInt(e[2].includes("%")?h(e[2].replace("%","")):e[2])};return e[3]&&e[3].includes(".")&&!e[3].includes("%")?s.a=parseFloat(e[3]):e[3]&&e[3].includes("%")?s.a=parseFloat(e[3].replace("%","")/100):!e[3]||e[3].includes(".")||e[3].includes("%")?e[3]||(s.a=1):s.a=parseInt(e[3])>1?1:parseInt(e[3]),d(s)})(t):t.toLowerCase().startsWith("hsl")?(t=>{const e=t.match(/-?\d*\.?\d+%?/g),s={h:parseInt(e[0]),s:parseInt(e[1]),l:parseInt(e[2])};return e[3]&&e[3].includes(".")&&!e[3].includes("%")?s.a=parseFloat(e[3]):e[3]&&e[3].includes("%")?s.a=parseFloat(e[3].replace("%","")/100):!e[3]||e[3].includes(".")||e[3].includes("%")?e[3]||(s.a=1):s.a=parseInt(e[3])>1?1:parseInt(e[3]),s})(t):void 0,getColorType:t=>t.startsWith("#")?"hex":t.toLowerCase().startsWith("rgb")?"rgb":t.toLowerCase().startsWith("hsl")?"hsl":void 0,hexToRgb:t,hexToRgba:(e,s)=>{const i=t(e);return{r:i.r,g:i.g,b:i.b,a:s}},hexToAlpha:e,hexToHsl:e=>{const s=t(e);return l(s)},hexToHsla:s,hexaToHsla:t=>{const i=e(t);return s(t,i)},validateHex:i,validateHexa:a,percentToRgb:h,rgbToHex:n,rgbToRgba:(t,e)=>({r:t.r,g:t.g,b:t.b,a:e}),rgbToHsl:l,rgbToHsla:(t,e)=>{const s=l(t);return{h:s.h,s:s.s,l:s.l,a:e}},rgbToString:t=>`rgb(${t.r} ${t.g} ${t.b})`,rgbaToHex:o,rgbaToHexa:t=>{const e=o(t),s=Math.round(255*t.a).toString(16).toUpperCase();return 1===s.length?e+"0"+s:e+s},rgbaToRgb:r,rgbaToRgbMerge:t=>({r:Math.round(t.r*t.a+255*(1-t.a)),g:Math.round(t.g*t.a+255*(1-t.a)),b:Math.round(t.b*t.a+255*(1-t.a))}),rgbaToHsl:t=>{const e=r(t);return l(e)},rgbaToHsla:d,rgbaToString:t=>`rgb(${t.r} ${t.g} ${t.b} / ${Math.round(100*t.a)}%)`,hslToHex:t=>{const e=c(t);return n(e)},hslToHexa:(t,e)=>{const s=c(t),i=n(s),a=Math.round(255*e).toString(16).toUpperCase();return 1===a.length?i+"0"+a:i+a},hslToRgb:c,hslToRgbVariant:u,hslToRgba:p,hslToHsla:(t,e)=>({h:t.h,s:t.s,l:t.l,a:e}),hslToString:t=>`hsl(${Math.round(t.h)}deg ${Math.round(t.s)}% ${Math.round(t.l)}%)`,hslaToHex:v,hslaToHexa:t=>{const e=v(t),s=Math.round(255*t.a).toString(16).toUpperCase();return 1===s.length?e+"0"+s:e+s},hslaToRgb:m,hslaToRgba:t=>{const e=g(t);return p(e,t.a)},hslaToHsl:g,hslaToString:t=>`hsl(${Math.round(t.h)}deg ${Math.round(t.s)}% ${Math.round(t.l)}% / ${Math.round(100*t.a)}%)`,luminance:t=>(299*t.r+587*t.g+114*t.b)/1e3>155}})(),h=class extends e{constructor(t){super(t),Object.assign(this,t),this.isOpen=!1,this.create()}create(){this.field=this.createField(),this.wrapper=this.createWrapper(),this.field.appendChild(this.wrapper),this.label=this.createLabel(),this.wrapper.appendChild(this.label),this.input=this.createInput(),this.wrapper.appendChild(this.input),this.message&&!this.manualErrorHandling&&this.field.appendChild(this.createMessage()),this.colorIcon=document.createElement("div"),this.colorIcon.classList.add("mio-color"),this.colorIcon.style.backgroundColor=a.hslaToString(this.hsla);const t=new s({type:"button",ariaLabel:"Icono vista previa color",buttonSize:"medium",svgSize:"medium",icon:this.colorIcon,onClick:()=>{this.input.focus()}}).get();this.wrapper.appendChild(this.createAdornment(t,"left"));const e=new s({type:"button",ariaLabel:"Icono paleta de colores",buttonSize:"medium",svgSize:"medium",icon:i.get("palette"),onClick:()=>{this.input.focus()}}).get();this.wrapper.appendChild(this.createAdornment(e,"right"))}createInput(){const t=document.createElement("input");return t.classList.add("mio-input"),t.type="text",t.name=this.input.name,t.id=this.input.id,t.value=this.input.value,this.input.placeholder&&(t.placeholder=this.input.placeholder),this.input.readOnly&&(t.readOnly=!0),this.input.maxLength&&(t.maxLength=this.input.maxLength),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this)),t.addEventListener("input",this.handleInput.bind(this)),t}handleFocus(){this.field.classList.add("active"),this.field.classList.add("focus"),this.onFocus&&this.onFocus(this.input.value)}handleBlur(){this.isOpen||(this.input.value||this.field.classList.remove("active"),this.field.classList.remove("focus"),this.onBlur&&this.onBlur(this.input.value))}setValue(t){this.input.value=t}setColor(t){this.colorIcon.style.backgroundColor=t}},n=class{constructor(t){Object.assign(this,t),this.init()}init(){this.inputEl=this.createInput()}get(){return this.inputEl}createInput(){const t=document.createElement("input");return t.classList.add("input"),t.type="number",t.name=this.input.name,t.id=this.input.id,.01===this.input.step&&this.input.value%1!=0&&(t.value=this.input.value.toFixed(2)),.01===this.input.step&&this.input.value%1==0&&(t.value=this.input.value),1===this.input.step&&(t.value=Math.round(this.input.value)),this.input.min&&(t.min=this.input.min),this.input.max&&(t.max=this.input.max),this.input.step&&(t.step=this.input.step),this.input.placeholder&&(t.placeholder=this.input.placeholder),this.input.maxLength&&(t.maxLength=this.input.maxLength),this.previousValue=t.value,t.addEventListener("input",this.handleInput.bind(this)),t.addEventListener("keypress",this.handleKeypress.bind(this)),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this)),t}handleInput(t){let e=t.target.value;const s=this.input.min,i=this.input.max;e&&(e.includes(".")&&e.split(".")[1].length>2&&(e=e.slice(0,-1),t.target.value=e),e<s&&(e=s),e>i&&(e=i),this.previousValue=e,t.target.value=e,this.onInput&&this.onInput(e))}handleKeypress(t){const e=t.keyCode;46!==e&&e>31&&(e<48||e>57)&&t.preventDefault()}handleFocus(){this.inputEl.parentElement.classList.add("focus")}handleBlur(t){const e=t.target.value;e||(t.target.value=this.previousValue),e.startsWith("0")&&(t.target.value=parseFloat(e)),this.inputEl.parentElement.classList.remove("focus")}setValue(t){.01===this.input.step&&t%1!=0&&(this.inputEl.value=t.toFixed(2)),.01===this.input.step&&t%1==0&&(this.inputEl.value=t),1===this.input.step&&(this.inputEl.value=Math.round(t))}},l={color:"hsl(220deg 75% 50%)"},o={color:""},r=document.querySelector(".container"),d=document.createElement("form");d.classList.add("mio-form"),r.appendChild(d);const c=new class{constructor(t){Object.assign(this,t),this.init()}init(){this.checkValue(),this.inputColor=new h({hsla:this.hsla,label:{text:this.label.text,for:this.label.for},input:{name:this.input.name,id:this.input.id,value:this.input.value,readOnly:this.input.readOnly},error:this.error,message:this.message,onFocus:this.open.bind(this),onBlur:()=>{}})}checkValue(){this.input.value||(this.input.value="#000000"),this.hsla=a.getHslaFromString(this.input.value)}open(){this.hsla=a.getHslaFromString(this.input.value),this.panel=new class{constructor(t){Object.assign(this,t),this.isOpen=!1,this.isClose=!1}open(){this.isOpen||(this.isOpen=!0,this.onOpen(),this.colorpicker=this.create(),document.body.appendChild(this.colorpicker),this.position(),this.colorpicker.classList.add("in"))}create(){const t=document.createElement("div");t.classList.add("colorpicker"),t.addEventListener("mousedown",this.checkClose.bind(this)),t.addEventListener("touchstart",this.checkClose.bind(this),{passive:!0}),t.addEventListener("click",this.handleClose.bind(this)),this.resize=this.handleResize.bind(this),window.addEventListener("resize",this.resize);const e=document.createElement("div");if(e.classList.add("content"),e.addEventListener("click",(t=>t.stopPropagation())),t.appendChild(e),!this.isCanvasSupported()){const s=this.createMessage("Your browser does not support canvas.");return e.appendChild(s),t}this.picker=new class{constructor(t){Object.assign(this,t),this.isMove=!1,this.isHover=!1,this.pos={x:0,y:0},this.padding={x:20,y:20},this.init()}init(){this.pickerEl=this.render()}get(){return this.pickerEl}resize(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight}setPos(){const t=this.hsla.s,e=this.hsla.l/100,s=this.padding.x,i=this.padding.y,a=this.canvas.width-2*s,h=this.canvas.height-2*i;if(0===t&&0===e)return this.pos.x=0+s,void(this.pos.y=h+i);if(0===t&&e>0)return this.pos.x=0+s,void(this.pos.y=h-h*e+i);const n=-h*(t-t*Math.abs(2*e-1)+200*e-200)/200,l=-2*a*(e*h-h+n)/(h-n);this.pos.x=l+s,this.pos.y=n+i}render(){const t=document.createElement("div");return t.classList.add("picker"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("mousemove",this.handleHover.bind(this)),this.start=this.handleStart.bind(this),this.canvas.addEventListener("mousedown",this.start),this.canvas.addEventListener("touchstart",this.start,{passive:!0}),t.appendChild(this.canvas),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.observer=new MutationObserver(this.rerender.bind(this)),this.observer.observe(document.body,{childList:!0}),t}rerender(){this.clear(),this.resize(),this.isMove||this.setPos(),this.gradient(),this.pointer()}pointer(){const t=this.pos.x,e=this.pos.y;this.context.save(),this.context.beginPath(),this.context.arc(t,e,16,0,2*Math.PI,!0),this.context.fillStyle="#fff",this.context.shadowColor="rgba(0, 0, 0, 0.3)",this.context.shadowBlur=4,this.context.fill(),this.context.restore(),this.context.beginPath(),this.context.arc(t,e,12,0,2*Math.PI,!0),this.context.fillStyle=`hsla(${this.hsla.h},  ${this.hsla.s}%, ${this.hsla.l}%, 1)`,this.context.fill()}gradient(){const t=this.padding.x,e=this.padding.y,s=this.canvas.width-2*t,i=this.canvas.height-2*e;this.context.save(),this.context.globalCompositeOperation="multiply";const a=this.context.createLinearGradient(t,e,t,this.canvas.height-e);a.addColorStop(0,"white"),a.addColorStop(1,"black");const h=this.context.createLinearGradient(t,e,this.canvas.width-t,e);h.addColorStop(0,`hsla(${this.hsla.h}, 100%, 50%, 0)`),h.addColorStop(1,`hsla(${this.hsla.h}, 100%, 50%, 1)`);const n=new Path2D;n.roundRect(t,e,s,i,6),this.context.fillStyle=a,this.context.fill(n);const l=new Path2D;l.roundRect(t,e,s,i,6),this.context.fillStyle=h,this.context.fill(l),this.context.restore()}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}handleStart(t){this.isMove=!0,this.move=this.handleMove.bind(this),this.end=this.handleEnd.bind(this),document.addEventListener("mousemove",this.move),document.addEventListener("touchmove",this.move,{passive:!0}),document.addEventListener("mouseup",this.end),document.addEventListener("touchend",this.end,{passive:!0}),this.canvas.style.cursor="move",this.position(t),this.rerender(),this.onChange(this.hsla)}handleMove(t){this.isMove&&(this.position(t),this.rerender(),this.onChange(this.hsla))}handleEnd(){this.isMove&&(this.isMove=!1,document.removeEventListener("mousemove",this.move),document.removeEventListener("touchmove",this.move),document.removeEventListener("mouseup",this.end),document.removeEventListener("touchend",this.end))}handleHover(t){const e=t.offsetX,s=t.offsetY,i=Math.abs(e-this.pos.x),a=Math.abs(s-this.pos.y);if(i*i+a*a<256){if(this.isHover)return;this.isHover=!0,this.canvas.style.cursor="move"}else this.isHover=!1,this.canvas.removeAttribute("style")}position(t){const e=this.canvas.getBoundingClientRect(),s=this.padding.x,i=this.padding.y,a=e.left+s,h=e.top+i;let n=t.clientX??t.touches[0].clientX,l=t.clientY??t.touches[0].clientY;n-=a,l-=h;const o=this.canvas.width-2*this.padding.x,r=this.canvas.height-2*this.padding.y;n<0&&(n=0),l<0&&(l=0),n>o&&(n=o),l>r&&(l=r),this.pos.x=n+s,this.pos.y=l+i;const d=(r-l)*(2*o-n)/(2*o*r),c=100*n*(r-l)/(r*o*(1-Math.abs(2*d-1)))||0;this.hsla.s=c,this.hsla.l=100*d}destroy(){this.observer.disconnect(),this.pickerEl.remove()}}({hsla:this.hsla,onChange:t=>{this.hsla=t,this.hue.rerender(),this.alpha.rerender(),this.preview.rerender(),this.data.rerender(),this.palette.reset()}}),e.appendChild(this.picker.get());const h=document.createElement("div");h.classList.add("row"),e.appendChild(h);const l=document.createElement("div");l.classList.add("column"),h.appendChild(l),this.hue=new class{constructor(t){Object.assign(this,t),this.isMove=!1,this.isHover=!1,this.padding={x:20,y:10},this.pos={x:0,y:0},this.init()}init(){this.hueEl=this.render()}get(){return this.hueEl}setPos(){const t=this.canvas.width-2*this.padding.x;this.pos.x=this.hsla.h*t/360+this.padding.x,this.pos.y=this.canvas.height/2}resize(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight}render(){const t=document.createElement("div");return t.classList.add("hue"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("mousemove",this.handleHover.bind(this)),this.start=this.handleStart.bind(this),this.canvas.addEventListener("mousedown",this.start),this.canvas.addEventListener("touchstart",this.start,{passive:!0}),t.appendChild(this.canvas),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.observer=new MutationObserver(this.rerender.bind(this)),this.observer.observe(document.body,{childList:!0}),t}rerender(){this.clear(),this.resize(),this.isMove||this.setPos(),this.gradient(),this.pointer()}pointer(){const t=this.pos.x,e=this.canvas.height/2;this.context.save(),this.context.beginPath(),this.context.arc(t,e,16,0,2*Math.PI,!0),this.context.fillStyle="#fff",this.context.shadowColor="rgba(0, 0, 0, 0.3)",this.context.shadowBlur=4,this.context.fill(),this.context.restore(),this.context.beginPath(),this.context.arc(t,e,12,0,2*Math.PI,!0),this.context.fillStyle=`hsla(${this.hsla.h}, 100%, 50%, 1)`,this.context.fill()}gradient(){const t=this.canvas.width-2*this.padding.x,e=this.canvas.height-2*this.padding.y,s=this.padding.x,i=this.padding.y,a=this.context.createLinearGradient(s,i,this.canvas.width-s,i);a.addColorStop(0,"rgb(255, 0, 0)"),a.addColorStop(1/6,"rgb(255, 255, 0)"),a.addColorStop(2/6,"rgb(0, 255, 0)"),a.addColorStop(.5,"rgb(0, 255, 255)"),a.addColorStop(4/6,"rgb(0, 0, 255)"),a.addColorStop(5/6,"rgb(255, 0, 255)"),a.addColorStop(1,"rgb(255, 0, 0)"),this.context.beginPath(),this.context.roundRect(s,i,t,e,100),this.context.fillStyle=a,this.context.fill()}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}handleStart(t){this.isMove=!0,this.move=this.handleMove.bind(this),this.end=this.handleEnd.bind(this),document.addEventListener("mousemove",this.move),document.addEventListener("touchmove",this.move,{passive:!0}),document.addEventListener("mouseup",this.end),document.addEventListener("touchend",this.end,{passive:!0}),this.canvas.style.cursor="ew-resize",this.position(t),this.rerender(),this.onChange(this.hsla)}handleMove(t){this.isMove&&(this.position(t),this.rerender(),this.onChange(this.hsla))}handleEnd(){this.isMove&&(this.isMove=!1,document.removeEventListener("mousemove",this.move),document.removeEventListener("touchmove",this.move),document.removeEventListener("mouseup",this.end),document.removeEventListener("touchend",this.end))}handleHover(t){const e=t.offsetX,s=t.offsetY,i=Math.abs(e-this.pos.x),a=Math.abs(s-this.pos.y);if(i*i+a*a<256){if(this.isHover)return;this.isHover=!0,this.canvas.style.cursor="ew-resize"}else this.isHover=!1,this.canvas.removeAttribute("style")}position(t){const e=this.canvas.getBoundingClientRect(),s=this.padding.x,i=e.left+s;let a=t.clientX??t.touches[0].clientX;a-=i;const h=this.canvas.width-2*s;a<0&&(a=0),a>h&&(a=h),this.pos.x=a+s,this.hsla.h=a/h*360}destroy(){this.observer.disconnect(),this.hueEl.remove()}}({hsla:this.hsla,onChange:t=>{this.hsla=t,this.picker.rerender(),this.alpha.rerender(),this.preview.rerender(),this.data.rerender(),this.palette.reset()}}),l.appendChild(this.hue.get()),this.alpha=new class{constructor(t){Object.assign(this,t),this.isMove=!1,this.isHover=!1,this.padding={x:20,y:10},this.pos={x:0,y:0},this.init()}init(){this.alphaEl=this.render()}get(){return this.alphaEl}setPos(){const t=this.canvas.width-2*this.padding.x;this.pos.x=this.hsla.a*t+this.padding.x,this.pos.y=this.canvas.height/2}resize(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight}render(){const t=document.createElement("div");return t.classList.add("alpha"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("mousemove",this.handleHover.bind(this)),this.start=this.handleStart.bind(this),this.canvas.addEventListener("mousedown",this.start),this.canvas.addEventListener("touchstart",this.start,{passive:!0}),t.appendChild(this.canvas),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.observer=new MutationObserver(this.rerender.bind(this)),this.observer.observe(document.body,{childList:!0}),t}rerender(){this.clear(),this.resize(),this.isMove||this.setPos(),this.mask(),this.gradient(),this.pointer()}pointer(){const t=this.canvas.height-2*this.padding.y,e=this.pos.x,s=this.canvas.height/2;this.context.save(),this.context.beginPath(),this.context.arc(e,s,16,0,2*Math.PI,!0),this.context.fillStyle="#fff",this.context.shadowColor="rgba(0, 0, 0, 0.3)",this.context.shadowBlur=4,this.context.fill(),this.context.restore();const i=t/2,a=t/2,h=this.context.createPattern(this.tile(i,a),"repeat");this.context.beginPath(),this.context.arc(e,s,12,0,2*Math.PI,!0),this.context.fillStyle=h,this.context.fill(),this.context.beginPath(),this.context.arc(e,s,12,0,2*Math.PI,!0),this.context.fillStyle=`hsla(${this.hsla.h}, ${this.hsla.s}%, ${this.hsla.l}%, ${this.hsla.a})`,this.context.fill()}mask(){const t=this.canvas.width-2*this.padding.x,e=this.canvas.height-2*this.padding.y,s=this.padding.x,i=this.padding.y,a=e/2,h=e/2,n=this.context.createPattern(this.tile(a,h),"repeat");this.context.beginPath(),this.context.roundRect(s,i,t,e,100),this.context.fillStyle=n,this.context.fill()}tile(t,e){const s=document.createElement("canvas");s.width=2*t,s.height=2*e;const i=s.getContext("2d",{willReadFrequently:!0});return i.fillStyle="#fff",i.fillRect(0,0,t,e),i.fillStyle="#eee",i.fillRect(t,0,t,e),i.fillRect(0,e,t,e),s}gradient(){const t=this.canvas.width-2*this.padding.x,e=this.canvas.height-2*this.padding.y,s=this.padding.x,i=this.padding.y,a=this.context.createLinearGradient(s,i,t,0);a.addColorStop(0,`hsla(${this.hsla.h}, ${this.hsla.s}%, ${this.hsla.l}%, 0)`),a.addColorStop(1,`hsla(${this.hsla.h}, ${this.hsla.s}%, ${this.hsla.l}%, 1)`),this.context.beginPath(),this.context.roundRect(s,i,t,e,100),this.context.fillStyle=a,this.context.fill()}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}handleStart(t){this.isMove=!0,this.move=this.handleMove.bind(this),this.end=this.handleEnd.bind(this),document.addEventListener("mousemove",this.move),document.addEventListener("touchmove",this.move,{passive:!0}),document.addEventListener("mouseup",this.end),document.addEventListener("touchend",this.end,{passive:!0}),this.canvas.style.cursor="ew-resize",this.position(t),this.rerender(),this.onChange(this.hsla)}handleMove(t){this.isMove&&(this.position(t),this.rerender(),this.onChange(this.hsla))}handleEnd(){this.isMove&&(this.isMove=!1,document.removeEventListener("mousemove",this.move),document.removeEventListener("touchmove",this.move),document.removeEventListener("mouseup",this.end),document.removeEventListener("touchend",this.end))}handleHover(t){const e=t.offsetX,s=t.offsetY,i=Math.abs(e-this.pos.x),a=Math.abs(s-this.pos.y);if(i*i+a*a<256){if(this.isHover)return;this.isHover=!0,this.canvas.style.cursor="ew-resize"}else this.isHover=!1,this.canvas.removeAttribute("style")}position(t){const e=this.canvas.getBoundingClientRect(),s=this.padding.x,i=e.left+s;let a=t.clientX??t.touches[0].clientX;a-=i;const h=this.canvas.width-2*s;a<0&&(a=0),a>h&&(a=h),this.pos.x=a+s,this.hsla.a=a/h}destroy(){this.observer.disconnect(),this.alphaEl.remove()}}({hsla:this.hsla,onChange:t=>{this.hsla=t,this.preview.rerender(),this.data.rerender()}}),l.appendChild(this.alpha.get()),this.preview=new class{constructor(t){Object.assign(this,t),this.isHover=!1,this.padding={x:20,y:10},this.init()}init(){this.previewEl=this.render()}get(){return this.previewEl}resize(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight}render(){const t=document.createElement("div");return t.classList.add("preview"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("mousemove",this.handleMove.bind(this)),t.appendChild(this.canvas),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.observer=new MutationObserver(this.rerender.bind(this)),this.observer.observe(document.body,{childList:!0}),t}rerender(){this.clear(),this.resize(),this.mask(),this.fill()}mask(){const t=this.canvas.width-2*this.padding.x,e=this.canvas.height-2*this.padding.y,s=this.canvas.width/2,i=this.canvas.height/2,a=(t+e)/2/2,h=t/6,n=e/6,l=this.context.createPattern(this.tile(h,n),"repeat");this.context.imageSmoothingEnabled=!0,this.context.arc(s,i,a,0,2*Math.PI,!0),this.context.fillStyle=l,this.context.fill()}tile(t,e){const s=document.createElement("canvas");s.width=2*t,s.height=2*e;const i=s.getContext("2d",{willReadFrequently:!0});return i.fillStyle="#fff",i.fillRect(0,0,t,e),i.fillStyle="#eee",i.fillRect(t,0,t,e),i.fillRect(0,e,t,e),s}fill(){const t=this.padding.x,e=this.padding.y,s=this.canvas.width-2*t,i=this.canvas.height-2*e,a=this.canvas.width/2,h=this.canvas.height/2,n=(s+i)/2/2;this.context.arc(a,h,n,0,2*Math.PI,!0),this.context.fillStyle=`hsla(${this.hsla.h}, ${this.hsla.s}%, ${this.hsla.l}% , ${this.hsla.a})`,this.context.fill()}hover(){const t=this.canvas.width/2,e=this.canvas.height/2;let s=new Path2D("M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z");this.context.save(),this.context.translate(t-15,e-15),this.context.scale(1.8,1.8);const i=a.hslaToRgba(this.hsla),h=a.rgbaToRgbMerge(i);this.context.fillStyle=a.luminance(h)?"#333":"#fff",this.context.fill(s),this.context.restore()}check(){const t=this.canvas.width/2,e=this.canvas.height/2;let s=new Path2D("M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z");this.context.save(),this.context.translate(t-16,e-16),this.context.scale(2,2);const i=a.hslaToRgba(this.hsla),h=a.rgbaToRgbMerge(i);this.context.fillStyle=a.luminance(h)?"#333":"#fff",this.context.fill(s),this.context.restore()}handleMove(t){const e=t.offsetX,s=t.offsetY,i=e-this.canvas.width/2,a=s-this.canvas.height/2,h=this.canvas.width/2-this.padding.x;if(i*i+a*a<=h*h){if(this.isHover)return;this.isHover=!0,this.canvas.style.cursor="pointer",this.click=this.handleClick.bind(this),this.canvas.addEventListener("click",this.click),this.rerender(),this.hover()}else this.isHover=!1,this.canvas.removeAttribute("style"),this.canvas.removeEventListener("click",this.click),this.rerender()}handleClick(){this.rerender(),this.check(),this.onClick()}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}destroy(){this.observer.disconnect(),this.previewEl.remove()}}({hsla:this.hsla,onClick:()=>{navigator.clipboard.writeText(this.data.getString())}}),h.appendChild(this.preview.get()),this.data=new class{constructor(t){Object.assign(this,t),this.values={},this.options=[{value:"hex",text:"Hex"},{value:"rgb",text:"RGB"},{value:"hsl",text:"HSL"}],this.option=this.options.find((t=>t.value===a.getColorType(this.value))),this.init()}init(){this.setValues(),this.data=document.createElement("div"),this.data.classList.add("data"),this.render()}get(){return this.data}getString(){let t="";return"hex"===this.option.value&&a.validateHex(this.values.hex)&&(t=this.values.hex),"hex"===this.option.value&&a.validateHexa(this.values.hex)&&(t=this.values.hex),"rgb"!==this.option.value||1!==this.values.rgba.a&&0!==this.values.rgba.a||(t=a.rgbToString(this.values.rgba)),"rgb"===this.option.value&&this.values.rgba.a>0&&this.values.rgba.a<1&&(t=a.rgbaToString(this.values.rgba)),"hsl"!==this.option.value||1!==this.values.hsla.a&&0!==this.values.hsla.a||(t=a.hslToString(this.values.hsla)),"hsl"===this.option.value&&this.values.hsla.a>0&&this.values.hsla.a<1&&(t=a.hslaToString(this.values.hsla)),t}setValues(){this.values.hsla={...this.hsla},0===this.hsla.s&&(this.values.hsla.h=0),this.values.rgba=a.hslaToRgba(this.values.hsla),this.values.hsla.a<1?this.values.hex=a.hslaToHexa(this.values.hsla):this.values.hex=a.hslaToHex(this.values.hsla)}setInputs(){if("hex"===this.option.value&&this.hexInput.setValue(this.values.hex),"rgb"===this.option.value)for(const t in this.values.rgba)this[`rgbaInput${t.toUpperCase()}`].setValue(this.values.rgba[t]);if("hsl"===this.option.value)for(const t in this.values.hsla)this[`hslaInput${t.toUpperCase()}`].setValue(this.values.hsla[t])}render(){this.form=document.createElement("form"),this.data.appendChild(this.form);const t=new class{constructor(t){Object.assign(this,t),this.activeOptions=!1,this.findText="",this.timeout=null,this.activeIndex=0,this.selectedIndex=0,this.init()}init(){window.addEventListener("resize",this.handleResize.bind(this)),window.addEventListener("scroll",this.handleResize.bind(this)),this.create()}handleResize(){this.customOptions&&this.position()}get(){return this.field}create(){this.field=this.createField(),this.customSelect=this.createCustomSelect(),this.field.appendChild(this.customSelect),this.selectEl=this.createSelect(),this.field.appendChild(this.selectEl),this.optionsEl=this.createOptions(),this.selectEl.appendChild(this.optionsEl)}createField(){const t=document.createElement("div");return t.classList.add("field"),t}createCustomSelect(){const t=document.createElement("div");t.classList.add("select"),t.addEventListener("click",this.handleOpen.bind(this));const e=document.createElement("span");t.appendChild(e);const s=this.createAdornment();return t.appendChild(s),t}createAdornment(){const t=document.createElement("div");t.classList.add("mio-adornment");const e=new s({type:"button",ariaLabel:"Button icon",buttonSize:"medium",svgSize:"xs",icon:i.get("caretDownFill"),onClick:this.handleOpen.bind(this)});return t.appendChild(e.get()),t}createLabel(){const t=document.createElement("label");return t.textContent=this.label.text,t.htmlFor=this.label.for,t.addEventListener("click",this.handleOpen.bind(this)),t}createSelect(){const t=document.createElement("select");return t.name=this.select.name,t.id=this.select.id,t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("keydown",this.handleKeydown.bind(this)),t}createOptions(){const t=document.createDocumentFragment();return this.options.forEach(((e,s)=>{const i=new Option(e[this.option.text],e[this.option.value]);this.selected.value.toString()===e[this.option.value].toString()&&(i.selected=!0,this.selectOption(e,s)),t.appendChild(i)})),t}handleFocus(){this.selectEl.focus(),this.field.classList.add("focus")}handleBlur(){this.selectEl.blur(),this.field.classList.remove("focus")}handleKeydown(t){switch(t.key){case"Escape":case"Tab":this.handleBlur(),this.handleClose();break;case"ArrowDown":this.activeOptions?(this.blurOption(),this.activeIndex=(this.activeIndex+1)%this.optionsNodes.childNodes.length,this.focusOption()):this.handleOpen();break;case"ArrowUp":this.activeOptions&&(this.blurOption(),this.activeIndex=(this.optionsNodes.childNodes.length+(this.activeIndex-1))%this.optionsNodes.childNodes.length,this.focusOption());break;case"Enter":this.activeOptions?(this.selectOption(this.options[this.activeIndex],this.activeIndex),this.onSelect(this.options[this.activeIndex]),this.handleClose()):this.handleOpen();break;default:this.findOption(t.key)}}async handleOpen(){this.activeOptions=!0,this.handleFocus(),this.customOptions=this.createCustomOptions(),document.body.appendChild(this.customOptions),this.position(),this.focusOption()}async handleClose(){this.activeOptions=!1,this.activeIndex=this.selectedIndex,this.handleBlur(),this.customOptions&&this.customOptions.remove()}createCustomOptions(){const t=document.createElement("div");t.classList.add("mio-options"),t.addEventListener("click",this.handleClose.bind(this));const e=document.createElement("div");return e.classList.add("content"),e.addEventListener("click",(t=>t.stopPropagation())),t.appendChild(e),this.optionsNodes=e,this.options.forEach(((t,s)=>{const i=document.createElement("div");i.classList.add("option"),t===this.selectedOption&&i.classList.add("selected"),s===this.activeIndex&&i.classList.add("focus"),i.addEventListener("click",(()=>{this.selectOption(t,s),this.onSelect(t),this.handleClose()})),e.appendChild(i);const a=document.createElement("span");a.textContent=t[this.option.text],i.appendChild(a)})),t}position(){const t=this.field.getBoundingClientRect();this.customOptions.firstChild.style.maxHeight="210px",t.top+this.customOptions.firstChild.offsetHeight+this.field.offsetHeight+2>window.innerHeight?this.customOptions.firstChild.style.top=t.top-this.customOptions.firstChild.offsetHeight-2+"px":this.customOptions.firstChild.style.top=`${t.top+this.field.offsetHeight+2}px`,this.customOptions.firstChild.style.left=`${t.left}px`,this.customOptions.firstChild.style.width=`${this.field.offsetWidth}px`}focusOption(){this.optionsNodes.childNodes[this.activeIndex].scrollIntoView(!1),this.optionsNodes.childNodes[this.activeIndex].classList.add("focus")}blurOption(){this.optionsNodes.childNodes[this.activeIndex].classList.remove("focus")}selectOption(t,e){this.selectedOption=t,this.activeIndex=e,this.selectedIndex=e,this.selectEl.value=t[this.option.value],this.customSelect.firstElementChild.textContent=t[this.option.text]}findOption(t){this.findText+=t,clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.findText=""),500),this.options.forEach(((t,e)=>{const s=t[this.option.text].toLowerCase(),i=this.findText.toLowerCase();if(s.includes(i))return this.selectEl.options[e].selected=!0,this.blurOption(),this.selectOption(t,e),this.onSelect(t),void this.focusOption()}))}async animationend(t){return new Promise((e=>{t.addEventListener("animationend",e,{once:!0})}))}}({label:{text:"Colors",for:"colors"},select:{name:"colors",id:"colos"},option:{value:"value",text:"text"},options:this.options,selected:this.option,onSelect:async t=>{this.option=t,this.form.remove(),this.render()}});this.form.appendChild(t.get());const e=document.createElement("div");if(e.classList.add("field"),this.form.appendChild(e),"hex"===this.option.value){const t=this.renderHex();e.appendChild(t)}if("rgb"===this.option.value){const t=this.renderRgba();e.appendChild(t)}if("hsl"===this.option.value){const t=this.renderHsla();e.appendChild(t)}}renderHex(){const t=document.createDocumentFragment();return this.hexInput=new class{constructor(t){Object.assign(this,t),this.init()}init(){this.inputEl=this.createInput()}get(){return this.inputEl}createInput(){const t=document.createElement("input");return t.classList.add("input"),t.type="text",t.name=this.input.name,t.id=this.input.id,t.value=this.input.value,this.input.placeholder&&(t.placeholder=this.input.placeholder),this.input.maxLength&&(t.maxLength=this.input.maxLength),t.addEventListener("input",this.handleInput.bind(this)),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this)),t}handleInput(t){let e=t.target.value;this.onInput&&this.onInput(e)}handleFocus(){this.inputEl.parentElement.classList.add("focus")}handleBlur(){this.inputEl.parentElement.classList.remove("focus")}setValue(t){this.inputEl.value=t}}({label:{text:"HEX",for:"hex"},input:{name:"hex",id:"hex",maxLength:9,value:this.values.hex},onInput:async t=>{if(!a.validateHex(t)&&!a.validateHexa(t))return;this.values.hex=t;const e=a.validateHex(t)?a.hexToHsla(t,1):a.hexaToHsla(t);for(const t in e)this.hsla[t]=e[t];this.onChange(this.hsla),this.setValues()}}),t.appendChild(this.hexInput.get()),t}renderRgba(){const t=document.createDocumentFragment(),e={r:255,g:255,b:255,a:1},s={r:1,g:1,b:1,a:.01};for(const i in this.values.rgba)this[`rgbaInput${i.toUpperCase()}`]=new n({label:{text:i.toUpperCase(),for:i},input:{name:i,id:i,step:s[i],min:0,max:e[i],maxLength:5,value:this.values.rgba[i]},onInput:async t=>{this.values.rgba[i]=t;const e=a.rgbaToHsla(this.values.rgba);for(const t in e)this.hsla[t]=parseInt(e[t]);this.onChange(this.hsla),this.setValues()}}),t.appendChild(this[`rgbaInput${i.toUpperCase()}`].get());return t}renderHsla(){const t=document.createDocumentFragment(),e={h:360,s:100,l:100,a:1},s={h:1,s:1,l:1,a:.01};for(const i in this.values.hsla)this[`hslaInput${i.toUpperCase()}`]=new n({label:{text:i.toUpperCase(),for:i},input:{name:i,id:i,step:s[i],min:0,max:e[i],maxLength:5,value:this.values.hsla[i]},onInput:async t=>{this.hsla[i]=parseInt(t),this.onChange(this.hsla),this.setValues()}}),t.appendChild(this[`hslaInput${i.toUpperCase()}`].get());return t}rerender(){this.setValues(),this.setInputs()}destroy(){this.data.remove()}}({hsla:this.hsla,value:this.value,onChange:t=>{this.hsla=t,this.picker.rerender(),this.hue.rerender(),this.alpha.rerender(),this.preview.rerender(),this.palette.reset()}}),e.appendChild(this.data.get()),this.palette=new class{constructor(t){Object.assign(this,t),this.colors=[{h:0,s:84,l:60,a:1},{h:25,s:95,l:53,a:1},{h:48,s:96,l:53,a:1},{h:142,s:69,l:58,a:1},{h:172,s:66,l:50,a:1},{h:217,s:91,l:60,a:1},{h:239,s:84,l:67,a:1},{h:330,s:81,l:60,a:1},{h:350,s:89,l:60,a:1},{h:292,s:84,l:61,a:1},{h:258,s:90,l:66,a:1},{h:199,s:89,l:48,a:1},{h:160,s:84,l:39,a:1},{h:84,s:81,l:44,a:1}],this.color=null,this.init()}init(){this.paletteEl=document.createElement("div"),this.paletteEl.classList.add("palette"),this.render()}get(){return this.paletteEl}render(){this.colors.forEach((t=>{const e=document.createElement("div");e.classList.add("color"),this.color===t&&e.classList.add("active"),e.style.backgroundColor=a.hslaToString(t),e.addEventListener("click",(()=>{this.selectColor(t),this.rerender()})),this.paletteEl.appendChild(e)}))}selectColor(t){this.color=t,this.hsla.h=t.h,this.hsla.s=t.s,this.hsla.l=t.l,this.hsla.a=t.a,this.onSelect(this.hsla)}rerender(){this.cleanHTML(),this.render()}cleanHTML(){for(;this.paletteEl.firstChild;)this.paletteEl.removeChild(this.paletteEl.firstChild)}reset(){this.color&&(this.color=null,this.rerender())}destroy(){this.paletteEl.remove()}}({hsla:this.hsla,onSelect:t=>{this.hsla=t,this.picker.rerender(),this.hue.rerender(),this.alpha.rerender(),this.preview.rerender(),this.data.rerender()}}),e.appendChild(this.palette.get());const o=document.createElement("div");o.classList.add("actions"),e.appendChild(o);const r=document.createElement("button");r.classList.add("cancel"),r.textContent="Cancelar",r.addEventListener("click",(()=>{this.isClose=!0,this.handleClose()})),o.appendChild(r);const d=document.createElement("button");return d.classList.add("accept"),d.textContent="Aceptar",d.addEventListener("click",(async()=>{this.isClose=!0,await this.handleClose(),this.onAccept(),this.destroy()})),o.appendChild(d),t}createMessage(t){const e=document.createElement("p");return e.classList.add("message"),e.textContent=t,e}position(){document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&document.body.classList.add("noscroll");const t=this.input.get(),e=t.getBoundingClientRect();innerWidth<768?this.colorpicker.firstChild.removeAttribute("style"):(this.colorpicker.firstChild.style.top=`${e.top+t.offsetHeight+2}px`,this.colorpicker.firstChild.style.left=`${e.left}px`,this.colorpicker.firstChild.style.width=`${e.width}px`)}checkClose(t){t.target===this.colorpicker&&(this.isClose=!0)}async handleClose(){this.isClose&&(this.isOpen=!1,this.isClose=!1,document.body.classList.remove("noscroll"),this.colorpicker.classList.add("out"),await this.animationend(this.colorpicker),this.isCanvasSupported()&&(this.picker.destroy(),this.hue.destroy(),this.alpha.destroy(),this.preview.destroy(),this.data.destroy(),this.palette.destroy()),this.onClose(),this.destroy())}handleResize(){this.isCanvasSupported()&&(this.picker.rerender(),this.hue.rerender(),this.alpha.rerender(),this.preview.rerender()),this.position()}isCanvasSupported(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}destroy(){window.removeEventListener("resize",this.resize),this.colorpicker.remove()}async animationend(t){return new Promise((e=>{t.addEventListener("animationend",e,{once:!0})}))}}({hsla:this.hsla,input:this.inputColor,value:this.input.value,onOpen:()=>{this.inputColor.isOpen=!0,this.inputColor.blur()},onClose:()=>{this.inputColor.isOpen=!1,this.inputColor.handleBlur()},onAccept:()=>{const t=this.panel.data.getString();this.inputColor.setValue(t),this.inputColor.setColor(t),this.inputColor.removeError(),this.input.value=t,this.onSelect(t)},onCancel:()=>{}}),this.panel.open()}get(){return this.inputColor.get()}getValue(){return this.input.value}setValue(t){this.input.value=t,this.inputColor.setValue(t),this.inputColor.setColor(t)}}({label:{text:"Color",for:"color"},input:{name:"color",id:"color",value:l.color,readOnly:!0},error:o.color.length>0,message:o.color,onSelect:t=>{l.color=t,o.color=""}});d.appendChild(c.get())})();